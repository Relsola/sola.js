!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).$utils={})}(this,(function(t){"use strict";function e(t,e,n=!0,r){let o,i=!1,s=0;function c(){o&&clearTimeout(o)}function u(...u){let a=this,f=Date.now()-s;function l(){s=Date.now(),e.apply(a,u)}i||(n&&r&&!o&&l(),c(),void 0===r&&f>t?n?l():(s=Date.now(),o=setTimeout(l,t)):o=setTimeout(r?function(){o=void 0}:l,void 0===r?t-f:t))}return u.cancel=function(t=!0){c(),i=t},u}class n{constructor(t=!0){this.storage=t?localStorage:sessionStorage}setItem(t,e){"object"==typeof e&&(e=JSON.stringify(e)),this.storage.setItem(t,e)}getItem(t){try{return JSON.parse(this.storage.getItem(t))}catch(e){return this.storage.getItem(t)}}removeItem(t){this.storage.removeItem(t)}clear(){this.storage.clear()}key(t){return this.storage.key(t)}length(){return this.storage.length}}const r=new n,o=new n(!1);t.compose=function(...t){return(...e)=>t.reduceRight(((t,e)=>[e.call(this,...t)]),e)[0]},t.createNanoEvents=function(){return{events:{},on(t,e){return(this.events[t]||=[]).push(e),()=>this.off(t,e)},emit(t,...e){const n=this.events[t]||[],r=n.length;for(let t=0;t<r;t++)n[t](...e)},once(t,e){const n=(...r)=>{e(...r),this.off(t,n)};this.on(t,n)},off(t,e){let n=this.events[t];Array.isArray(n)&&n.length&&(this.events[t]=n.filter((t=>e!==t)))},*[Symbol.iterator](){const{events:t,on:e,emit:n,once:r,off:o}=this,i=[e,n,r,o].map((t=>t.bind(this)));i.push(t,this),yield*i}}},t.createUUID=function(){const t=URL.createObjectURL(new Blob),e=t.substring(t.lastIndexOf("/")+1);return URL.revokeObjectURL(t),e},t.curry=function(t,e=t.length){const n=function(...r){return r.length>=e?t(...r):(...t)=>n(...r,...t)};return n},t.debounce=function(t,n,r=!0){return e(t,n,!0,r)},t.deepClone=function t(e,n=new WeakMap){if(!e||"object"!=typeof e)return e;for(const t of[RegExp,Date,Error,Set,Map])if(e instanceof t)return new t(e);if(n.has(e))return n.get(e);const r=Array.isArray(e)?[]:{};n.set(e,r);for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t(e[o],n));return r},t.getSearchParams=function(t){t||=window.location.search;const e={};for(const[n,r]of new URLSearchParams(t).entries())e[n]=r;return e},t.isEqual=function(t,e){if(!Array.isArray(t)||t.length<=1)return!0;e&&"function"==typeof e||(e=Object.is);const n=(t,...r)=>e(t,r[0])&&(r.length<2||n(...r));return n(...t)},t.localCache=r,t.memoize=function(t){const e=new Map,n=function(){const n=JSON.stringify(arguments);return(e.has(n)||e.set(n,t.apply(this,arguments)))&&e.get(n)};return n.cache=e,n},t.moneyFormat=function(t,e,n,r){t=(t+"").replace(/[^0-9+-Ee.]/g,"");const o=isFinite(+t)?+t:0,i=isFinite(+e)?Math.abs(e):2,s=void 0===r?",":r,c=void 0===n?".":n;let u="";u=(i?function(t,e){const n=Math.pow(10,e);return""+Math.ceil(t*n)/n}(o,i):""+Math.round(o)).split(".");const a=/(-?\d+)(\d{3})/;for(;a.test(u[0]);)u[0]=u[0].replace(a,"$1"+s+"$2");return(u[1]||"").length<i&&(u[1]=u[1]||"",u[1]+=new Array(i-u[1].length+1).join("0")),u.join(c)},t.omit=function(t,e){return Object.keys(t).filter((t=>!e.includes(t))).reduce(((e,n)=>(e[n]=t[n],e)),{})},t.once=function(t){let e,n=!1;return function(){return n||(e=t.apply(this,arguments),n=!0),e}},t.partial=function(t,...e){return(...n)=>t(...e,...n)},t.pick=function(t,e){const n={};return e.forEach((e=>Object.hasOwn(t,e)&&(n[e]=t[e]))),n},t.pipe=function(...t){return(...e)=>t.reduce(((t,e)=>[e.call(this,...t)]),e)[0]},t.sessionCache=o,t.throttle=e,t.typeOf=function(t){return Object.prototype.toString.call(t).slice(8,-1)},t.uniqueArrayObject=function(t,e){return!Array.isArray(t)||t.length<=1?t:t.filter((function(t){const n=t[e];return!this[n]&&(this[n]=!0)}),{})},t.zip=function(...t){const[e,n]=[t.length,Math.max(...t.map((t=>t.length)))];return Array.from({length:n},((n,r)=>Array.from({length:e},((e,n)=>t[n][r]))))}}));
